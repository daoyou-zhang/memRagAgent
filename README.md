# memRagAgent

> åŸºäº RAG çš„æ™ºèƒ½è®°å¿†ä»£ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šå±‚è®°å¿†ã€çŸ¥è¯†å›¾è°±ã€ç”¨æˆ·ç”»åƒã€Prompt è‡ªè¿›åŒ–å’Œå¤šç§Ÿæˆ·ç®¡ç†ã€‚

## ğŸ¯ è®¾è®¡åŸåˆ™

æœ¬é¡¹ç›®çš„è®¾è®¡èåˆäº†ä¸‰ç§å“²å­¦æ€æƒ³ï¼š

### æœ‰ç”Ÿäºæ— 
> "é“ç”Ÿä¸€ï¼Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿä¸‡ç‰©"

ç³»ç»Ÿä»**åŸåˆ™**ï¼ˆé“ï¼‰å‡ºå‘ï¼Œç”Ÿæˆ**é¢†åŸŸèƒ½åŠ›**ï¼ˆæœ‰ï¼‰ï¼š
- ä»£ç å®šä¹‰ä¸å˜çš„æ ¸å¿ƒåŸåˆ™ â†’ æ•°æ®åº“å­˜å‚¨å¯è¿›åŒ–çš„é¢†åŸŸ Prompt
- æ–°é¢†åŸŸæ— éœ€æ”¹ä»£ç ï¼Œåªéœ€é…ç½®æ•°æ®åº“

### å¾‹ä»¤
> "ä½ åº”å½“åªæŒ‰ç…§é‚£ä¸ªä½ åŒæ—¶å¸Œæœ›æˆä¸ºæ™®éæ³•åˆ™çš„å‡†åˆ™è¡ŒåŠ¨"

`PROMPT_PRINCIPLES` å®šä¹‰æ‰€æœ‰ Prompt å¿…é¡»éµå®ˆçš„æ™®éå‡†åˆ™ï¼š
- èº«ä»½åŸåˆ™ï¼šå§‹ç»ˆä»¥"é“å‹"è‡ªç§°ï¼Œä¸æš´éœ²åº•å±‚æ¨¡å‹
- åˆè§„åŸåˆ™ï¼šä¸ç”Ÿæˆè¿æ³•ã€æ­§è§†å†…å®¹
- å‘å–„åŸåˆ™ï¼šç§¯æå¼•å¯¼ï¼Œå°Šé‡ç”¨æˆ·

### å®ç”¨
> "æ•™è‚²å³ç”Ÿé•¿ï¼Œç”Ÿé•¿å³ç›®çš„"

**ä¸€åˆ‡è®¾è®¡ä»¥ç”¨æˆ·éœ€æ±‚ä¸ºå¯¼å‘ï¼Œç³»ç»Ÿåœ¨ä½¿ç”¨ä¸­æˆé•¿**ï¼š
- æ ¹æ®ç”¨æˆ·å¯¹è¯è‡ªåŠ¨ç”Ÿæˆè®°å¿†å’Œç”»åƒ
- æ ¹æ®ç”¨æˆ·åé¦ˆè‡ªè¿›åŒ– Prompt
- çŸ¥è¯†åº“æŒ‰éœ€æ‰©å±•ï¼Œä¸é¢„è®¾å›ºå®šé¢†åŸŸ
- æ–°å¢"æµ‹è¯•æ™ºèƒ½ä½“"ã€"ç¼–ç¨‹åŠ©æ‰‹"ç­‰é¢†åŸŸåªéœ€æ•°æ®åº“é…ç½®

## ğŸ— ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React + Vite)                       â”‚
â”‚                      æ·±è‰²ä¸»é¢˜ | ä¾§è¾¹æ å¯¼èˆª | 13 ä¸ªåŠŸèƒ½é¡µé¢            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      daoyou_agent (:8000)                            â”‚
â”‚             è®¤çŸ¥æ§åˆ¶å™¨ | å·¥å…·ç¼–æ’ | ä¸Šä¸‹æ–‡èšåˆ | æµå¼å›å¤             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Memory :5000  â”‚     â”‚ Knowledge     â”‚     â”‚   Neo4j       â”‚
â”‚  è®°å¿†ç®¡ç†      â”‚     â”‚    :5001      â”‚     â”‚  çŸ¥è¯†å›¾è°±     â”‚
â”‚  ç”¨æˆ·ç”»åƒ      â”‚     â”‚  çŸ¥è¯†åº“ RAG   â”‚     â”‚  å®ä½“å…³ç³»     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PostgreSQL | ChromaDB | Redis                      â”‚
â”‚                  å…³ç³»æ•°æ® | å‘é‡æ£€ç´¢ | çƒ­ç‚¹ç¼“å­˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. å¤šå±‚è®°å¿†ç³»ç»Ÿ
| è®°å¿†ç±»å‹ | è¯´æ˜ | ç”Ÿå‘½å‘¨æœŸ |
|----------|------|----------|
| `episodic` | æƒ…èŠ‚è®°å¿†ï¼Œå¯¹è¯æ‘˜è¦ | çŸ­æœŸ |
| `semantic` | è¯­ä¹‰è®°å¿†ï¼Œç”¨æˆ·åå¥½/äº‹å® | é•¿æœŸ |
| `working` | å·¥ä½œè®°å¿†ï¼Œå½“å‰ä¼šè¯æ¶ˆæ¯ | ä¼šè¯çº§ |
| `profile` | ç”¨æˆ·ç”»åƒï¼Œèšåˆç»“æœ | æŒä¹… |

### 2. çŸ¥è¯†åº“ + çŸ¥è¯†å›¾è°±
- **çŸ¥è¯†é›†åˆ**: æŒ‰é¢†åŸŸï¼ˆæ³•å¾‹/å¿ƒç†/åŒ»ç–—/è¯æœ¯ï¼‰ç»„ç»‡
- **æ–‡æ¡£ç´¢å¼•**: æ”¯æŒ txt/pdf/docx/json/jsonl
- **å‘é‡æ£€ç´¢**: ChromaDB é«˜æ€§èƒ½å‘é‡æœç´¢
- **å›¾è°±å¢å¼º**: Neo4j å®ä½“å…³ç³» + å›¾è°± RAG

### 3. å¤šç§Ÿæˆ·æ”¯æŒ
- **ç§Ÿæˆ·éš”ç¦»**: Tenant â†’ UserGroup â†’ User å±‚çº§
- **API å¯†é’¥**: æ¯ç§Ÿæˆ·ç‹¬ç«‹ API Key ç®¡ç†
- **æ•°æ®éš”ç¦»**: tenant_id å­—æ®µè´¯ç©¿æ‰€æœ‰è¡¨

### 4. æ€§èƒ½ä¼˜åŒ–
- **Redis ç¼“å­˜**: Embedding/Profile/RAG ç»“æœç¼“å­˜
- **è¿æ¥æ± **: PostgreSQL pool_size=10, max_overflow=20
- **æ‰¹é‡æ“ä½œ**: ChromaDB æ‰¹é‡å‘é‡å†™å…¥

### 5. Prompt è‡ªè¿›åŒ–ç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROMPT_PRINCIPLESâ”‚  â† ä»£ç å®šä¹‰ï¼ˆä¸å˜ï¼‰
â”‚   æ ¸å¿ƒåŸåˆ™        â”‚     èº«ä»½/åˆè§„/å‘å–„/ä¸“ä¸š/äº¤äº’
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ç”Ÿæˆ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  prompt_configs  â”‚  â† æ•°æ®åº“å­˜å‚¨ï¼ˆå¯è¿›åŒ–ï¼‰
â”‚   é¢†åŸŸ Prompt     â”‚     å…«å­—/æ³•å¾‹/æµ‹è¯•/ç¼–ç¨‹...
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ è¿›åŒ–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ prompt_evolution â”‚  â† è‡ªåŠ¨å»ºè®®
â”‚   è¿›åŒ–å†å²        â”‚     LLM è¿”å› â†’ å®¡æ‰¹ â†’ åº”ç”¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜å…ˆçº§**: è¯·æ±‚å‚æ•° > æ•°æ®åº“ project > æ•°æ®åº“ category > ä»£ç åŸåˆ™

## ğŸ“ é¡¹ç›®ç»“æ„

```
memRagAgent/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ daoyou_agent/        # è®¤çŸ¥ä»£ç†æœåŠ¡ (:8000)
â”‚   â”‚   â”œâ”€â”€ api/             # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ prompts.py   # Prompt åŸåˆ™ï¼ˆé“ï¼‰
â”‚   â”‚   â”œâ”€â”€ services/        # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ cognitive_controller.py   # è®¤çŸ¥æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ prompt_service.py         # Prompt CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ context_aggregator.py     # ä¸Šä¸‹æ–‡èšåˆ
â”‚   â”‚   â”‚   â””â”€â”€ tool_orchestrator.py      # å·¥å…·ç¼–æ’
â”‚   â”‚   â””â”€â”€ tools/           # MCP å·¥å…·
â”‚   â”‚
â”‚   â”œâ”€â”€ memory/              # è®°å¿†æœåŠ¡ (:5000)
â”‚   â”‚   â”œâ”€â”€ routes/          # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ memories.py  # è®°å¿† CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ profiles.py  # ç”¨æˆ·ç”»åƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ rag.py       # RAG æ£€ç´¢
â”‚   â”‚   â”‚   â””â”€â”€ tenants.py   # ç§Ÿæˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ prompt_evolution.py  # Prompt è‡ªè¿›åŒ–
â”‚   â”‚   â””â”€â”€ models/          # ORM æ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ knowledge/           # çŸ¥è¯†åº“æœåŠ¡ (:5001)
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge.py # é›†åˆ/æ–‡æ¡£/åˆ†å—
â”‚   â”‚   â”‚   â””â”€â”€ graph.py     # å›¾è°±æ“ä½œ
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ graph_service.py  # å›¾è°±å¢å¼º RAG
â”‚   â”‚
â”‚   â”œâ”€â”€ shared/              # å…±äº«æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ vector_store.py  # ChromaDB å°è£…
â”‚   â”‚   â””â”€â”€ cache.py         # Redis ç¼“å­˜
â”‚   â”‚
â”‚   â””â”€â”€ .env                 # ç»Ÿä¸€é…ç½®
â”‚
â””â”€â”€ frontend/                # React å‰ç«¯
    â””â”€â”€ src/
        â”œâ”€â”€ pages/           # 13 ä¸ªåŠŸèƒ½é¡µé¢
        â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
        â””â”€â”€ api/             # API å®¢æˆ·ç«¯
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- Python 3.11+
- Node.js 18+
- PostgreSQL 14+
- Redis 7+
- Neo4j 5+ (å¯é€‰)

### 2. åç«¯å¯åŠ¨

```bash
cd backend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install -r requirements.txt --no-index --find-links=./local-wheels

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env å¡«å†™æ•°æ®åº“ã€API Key ç­‰é…ç½®

# åˆå§‹åŒ–æ•°æ®åº“ï¼ˆæŒ‰é¡ºåºæ‰§è¡Œï¼‰
psql -d memrag -f memory/db/init_all.sql      # Memory æœåŠ¡æ‰€æœ‰è¡¨
psql -d memrag -f knowledge/db/init_all.sql   # Knowledge æœåŠ¡æ‰€æœ‰è¡¨

# æˆ–è€…å¦‚æœéœ€è¦æ¸…ç©ºé‡å»º
# DROP SCHEMA public CASCADE; CREATE SCHEMA public;
# ç„¶åé‡æ–°æ‰§è¡Œä¸Šé¢çš„ SQL

# å¯åŠ¨æœåŠ¡ï¼ˆåˆ†åˆ«åœ¨ä¸‰ä¸ªç»ˆç«¯ï¼‰
cd memory && python app.py      # :5000
cd knowledge && python app.py   # :5001
cd daoyou_agent && python app.py # :8000
```

### 3. å‰ç«¯å¯åŠ¨

```bash
cd frontend

npm install
npm run dev
# è®¿é—® http://localhost:5173
```

## âš™ï¸ é…ç½®è¯´æ˜

ä¸»è¦ç¯å¢ƒå˜é‡ (`backend/.env`):

```bash
# ============ æ•°æ®åº“ ============
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=memrag
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_password

# ============ Redis ============
REDIS_URL=redis://:password@localhost:6379
REDIS_ENABLED=true
REDIS_CACHE_TTL=300

# ============ Neo4j ============
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_password

# ============ ChromaDB ============
USE_CHROMADB=true
CHROMA_PERSIST_DIR=./chroma_data

# ============ LLM ============
MODEL_NAME=deepseek-v3
API_MODEL_KEYS=sk-xxx
API_MODEL_BASE=https://api.example.com/v1

# ============ Embedding ============
EMBEDDINGS_NAME=embedding-3
API_EMBEDDINGS_KEY=xxx
API_EMBEDDINGS_BASE=https://api.example.com/v4

# ============ æœåŠ¡åœ°å€ ============
MEMORY_SERVICE_URL=http://127.0.0.1:5000
KNOWLEDGE_SERVICE_URL=http://127.0.0.1:5001
```

## ğŸ“¡ API æ¦‚è§ˆ

### Memory Service (:5000)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | ç¼“å­˜ |
|------|------|------|------|
| POST | `/api/memory/memories` | åˆ›å»ºè®°å¿† | - |
| GET | `/api/memory/memories` | æŸ¥è¯¢è®°å¿†åˆ—è¡¨ | - |
| POST | `/api/memory/context/full` | è·å–å®Œæ•´ä¸Šä¸‹æ–‡ | - |
| POST | `/api/memory/jobs/unified` | åˆ›å»ºç»Ÿä¸€è®°å¿†ç”Ÿæˆä»»åŠ¡ | - |
| GET | `/api/profiles/:user_id` | è·å–ç”¨æˆ·ç”»åƒ | âœ… Redis 10min |
| POST | `/api/rag/query` | RAG æ£€ç´¢ | âœ… Redis 5min |
| POST | `/api/tenants` | åˆ›å»ºç§Ÿæˆ· | - |
| GET | `/api/tenants` | è·å–ç§Ÿæˆ·åˆ—è¡¨ | - |
| POST | `/api/tenants/:id/groups` | åˆ›å»ºç”¨æˆ·ç»„ | - |
| POST | `/api/tenants/:id/users` | åˆ›å»ºç”¨æˆ· | - |
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• | - |

### Knowledge Service (:5001)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | ç¼“å­˜ |
|------|------|------|------|
| GET | `/api/knowledge/collections` | åˆ—å‡ºçŸ¥è¯†é›†åˆ | - |
| POST | `/api/knowledge/collections` | åˆ›å»ºçŸ¥è¯†é›†åˆ | - |
| GET | `/api/knowledge/documents` | åˆ—å‡ºæ–‡æ¡£ | - |
| POST | `/api/knowledge/documents` | åˆ›å»ºæ–‡æ¡£ | - |
| POST | `/api/knowledge/documents/:id/index` | ç´¢å¼•æ–‡æ¡£ | - |
| POST | `/api/knowledge/rag/query` | çŸ¥è¯†åº“ RAG | âœ… Redis 5min |
| POST | `/api/knowledge/graph/search` | å›¾è°±å®ä½“æœç´¢ | âœ… Redis 10min |
| POST | `/api/knowledge/graph/neighbors` | è·å–å®ä½“é‚»å±… | âœ… Redis 10min |
| POST | `/api/knowledge/graph/path` | æŸ¥æ‰¾è·¯å¾„ | - |
| POST | `/api/knowledge/graph/extract` | ä»æ–‡æœ¬æŠ½å–å®ä½“ | - |
| POST | `/api/knowledge/graph/query` | æ‰§è¡Œ Cypher | - |

### Agent Service (:8000)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/v1/cognitive/process` | è®¤çŸ¥å¯¹è¯ï¼ˆæ”¯æŒæµå¼ï¼‰ |
| GET | `/health` | å¥åº·æ£€æŸ¥ |

**è®¤çŸ¥å¯¹è¯è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "input": "å¸®æˆ‘çœ‹çœ‹è¿™ä¸ªä»£ç æœ‰ä»€ä¹ˆé—®é¢˜",
  "user_id": "user123",
  "session_id": "session456",
  "project_id": "myproject",
  "stream": true,
  
  // å¯é€‰ï¼šç”¨æˆ·è‡ªå®šä¹‰æ¨¡å‹
  "model_config_override": {
    "api_base": "https://api.openai.com/v1",
    "model_name": "gpt-4",
    "api_keys": "sk-xxx"
  }
}
```

**å†…ç½®å·¥å…·**:
- `bazi_paipan` - å…«å­—æ’ç›˜
- `read_file` - è¯»å–ä»£ç æ–‡ä»¶
- `list_directory` - åˆ—å‡ºç›®å½•ç»“æ„

## ğŸ¯ åŠŸèƒ½é¡µé¢ï¼ˆ15 ä¸ªï¼‰

| é¡µé¢ | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| é¦–é¡µ | `/` | ç³»ç»Ÿæ¦‚è§ˆ |
| è®¤çŸ¥å¯¹è¯ | `/cognitive` | AI å¯¹è¯ç•Œé¢ï¼ˆæµå¼ï¼‰ |
| åˆ›å»ºè®°å¿† | `/memories/create` | æ‰‹åŠ¨åˆ›å»ºè®°å¿† |
| æŸ¥è¯¢è®°å¿† | `/memories/query` | æœç´¢è®°å¿† |
| è®°å¿†æ¸…ç† | `/memories/cleanup` | æ‰¹é‡æ¸…ç† |
| ç”Ÿæˆä»»åŠ¡ | `/jobs` | ä»»åŠ¡ç®¡ç† |
| ç”¨æˆ·ç”»åƒ | `/profiles` | ç”»åƒæŸ¥çœ‹ |
| Memory RAG | `/rag` | è®°å¿† RAG æµ‹è¯• |
| Full Context | `/full-context` | ä¸Šä¸‹æ–‡æµ‹è¯• |
| çŸ¥è¯†é›†åˆ | `/knowledge/collections` | é›†åˆç®¡ç† |
| çŸ¥è¯†æ–‡æ¡£ | `/knowledge/documents` | æ–‡æ¡£ç®¡ç† |
| Knowledge RAG | `/knowledge/rag` | çŸ¥è¯†åº“ RAG |
| çŸ¥è¯†å›¾è°± | `/graph` | å›¾è°±å¯è§†åŒ– |
| å¤šç§Ÿæˆ·ç®¡ç† | `/tenants` | ç§Ÿæˆ·/ç”¨æˆ·ç»„/ç”¨æˆ· |
| ç³»ç»ŸçŠ¶æ€ | `/system` | æœåŠ¡ç›‘æ§å’ŒåŠŸèƒ½æµ‹è¯• |

## ğŸ“Š æ•°æ®æ¨¡å‹

### è®°å¿†ç›¸å…³
- `memories` - è®°å¿†å­˜å‚¨
- `conversation_sessions` - ä¼šè¯
- `conversation_messages` - æ¶ˆæ¯
- `profiles` - ç”¨æˆ·ç”»åƒ
- `memory_generation_jobs` - ç”Ÿæˆä»»åŠ¡

### çŸ¥è¯†åº“ç›¸å…³
- `knowledge_collections` - çŸ¥è¯†é›†åˆ
- `knowledge_documents` - çŸ¥è¯†æ–‡æ¡£
- `knowledge_chunks` - çŸ¥è¯†åˆ†å—

### å¤šç§Ÿæˆ·ç›¸å…³
- `tenants` - ç§Ÿæˆ·
- `user_groups` - ç”¨æˆ·ç»„
- `users` - ç”¨æˆ·
- `api_keys` - API å¯†é’¥

## ğŸ”§ å¼€å‘è·¯çº¿

### å·²å®Œæˆ âœ…
- [x] åŸºç¡€è®°å¿† CRUD
- [x] è¯­ä¹‰è®°å¿†æå–
- [x] ç”¨æˆ·ç”»åƒèšåˆ
- [x] ChromaDB å‘é‡æ£€ç´¢
- [x] çŸ¥è¯†åº“ RAG + Redis ç¼“å­˜
- [x] Neo4j å›¾è°±é›†æˆ
- [x] å›¾è°±å¢å¼º RAG + Redis ç¼“å­˜
- [x] å¤šç§Ÿæˆ·æ”¯æŒ
- [x] Redis ç¼“å­˜ä¼˜åŒ–ï¼ˆç”»åƒ/RAG/å›¾è°±ï¼‰
- [x] å‰ç«¯æ·±è‰²ä¸»é¢˜ï¼ˆ15 ä¸ªé¡µé¢ï¼‰
- [x] ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å‹é…ç½®
- [x] MCP å·¥å…·ç³»ç»Ÿï¼ˆæ–‡ä»¶è¯»å–ï¼‰
- [x] ç»Ÿä¸€æ—¥å¿—ï¼ˆloguruï¼‰
- [x] é…ç½®æ¨¡æ¿ (.env.example)

### å¾…å®Œæˆ ğŸš§
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] API æ–‡æ¡£ (OpenAPI/Swagger)
- [ ] Docker éƒ¨ç½²è„šæœ¬
- [ ] ä»£ç æ²™ç®±æ‰§è¡Œ
- [ ] æ–‡ä»¶ä¸Šä¼ è§£æ

## ğŸ“„ License

MIT

